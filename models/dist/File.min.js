"use strict";var mongoose=require("mongoose"),nodemailer=require("nodemailer"),fileSchema=new mongoose.Schema({name:{type:String,required:!0},imageUrl:{type:String},tags:{type:String},email:{type:String}});fileSchema.post("save",function(r){var o,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("DOC",r),o=nodemailer.createTransport({host:process.env.MAIL_HOST,auth:{user:process.env.MAIL_USER,pass:process.env.MAIL_PASS}}),e.next=5,regeneratorRuntime.awrap(o.sendMail({from:"Web",to:r.email,subject:"New file uploaded on cloudinary",html:'<h2>Hello</h2> <p>File uploaded View here: <a href="'.concat(r.imageUrl,'">').concat(r.imageUrl,"</a> </p>")}));case 5:n=e.sent,console.log("INFO",n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},null,null,[[0,9]])});var File=mongoose.model("File",fileSchema);module.exports=File;
//# sourceMappingURL=File.min.js.map
